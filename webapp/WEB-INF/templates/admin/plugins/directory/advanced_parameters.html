<#include "/admin/plugins/directory/commons.html" />
<#include "/admin/util/editor/editor.html" />

<@accordionContainer id='accordion'>
	<@accordionPanel color='default' collapsed=false childId='directory_xsl'>
		<@accordionHeader title='#i18n{directory.manage_directory_xsl.title}' boxTools=true>
			<@button type='submit' name='save' buttonIcon='save' title='#i18n{directory.create_directory.button_save}' showTitleXs=false />
		</@accordionHeader>
		
		<@accordionBody>
			<@tform action='jsp/admin/plugins/directory/DoModifyDirectoryParameterDefaultValues.jsp'>
				<@row>
					<@columns sm=6 md=3 lg=3 xl=3>
						<h4>#i18n{directory.create_directory.label_show_date_creation}</h4>
							
						<@formGroup rows=2>
							<@checkBox labelFor='date_shown_in_result_list' labelKey='#i18n{directory.create_entry.label_shown_in_result_list}' name='date_shown_in_result_list' id='date_shown_in_result_list' value='1' checked=getChecked('date_shown_in_result_list',list_directory_param_default_values) />
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='date_shown_in_result_record' labelKey='#i18n{directory.create_entry.label_shown_in_result_record}' name='date_shown_in_result_record' id='date_shown_in_result_record' value='1' checked=getChecked('date_shown_in_result_record',list_directory_param_default_values) />
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='date_shown_in_export' labelKey='#i18n{directory.create_entry.label_shown_in_export}' name='date_shown_in_export' id='date_shown_in_export' value='1' checked=getChecked('date_shown_in_export',list_directory_param_default_values) />
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='date_shown_in_search' labelKey='#i18n{directory.create_entry.label_indexed}' name='date_shown_in_search' id='date_shown_in_search' value='1' checked=getChecked('date_shown_in_search',list_directory_param_default_values) />
						</@formGroup>
						
						<@callOut color='success' id='show_multiple_search_fields'>
							<@checkBox labelFor='date_shown_in_multi_search' labelKey='#i18n{directory.create_entry.label_multiple_search_fields}' name='date_shown_in_multi_search' id='date_shown_in_multi_search' value='1' checked=getChecked('date_shown_in_multi_search',list_directory_param_default_values) />
							<@checkBox labelFor='date_shown_in_advanced_search' labelKey='#i18n{directory.create_entry.label_shown_in_advanced_search}' name='date_shown_in_advanced_search' id='date_shown_in_advanced_search' value='1' checked=getChecked('date_shown_in_advanced_search',list_directory_param_default_values) /> 
						</@callOut>

					
					<h4> #i18n{directory.create_directory.label_show_date_modification}</h4>
						
						<@formGroup rows=2>
							<@checkBox labelFor='date_modification_shown_in_result_list' labelKey='#i18n{directory.create_entry.label_shown_in_result_list}' name='date_modification_shown_in_result_list' id='date_modification_shown_in_result_list' value='1'checked=getChecked( 'date_modification_shown_in_result_list',list_directory_param_default_values) />
						</@formGroup>
						<@formGroup rows=2>
							<@checkBox labelFor='date_modification_shown_in_result_record' labelKey='#i18n{directory.create_entry.label_shown_in_result_record}' name='date_modification_shown_in_result_record' id='date_modification_shown_in_result_record' value='1' checked=getChecked('date_modification_shown_in_result_record',list_directory_param_default_values) /> 
						</@formGroup>
						<@formGroup rows=2>
							<@checkBox labelFor='date_modification_shown_in_history' labelKey='#i18n{directory.create_entry.label_shown_in_history}' name='date_modification_shown_in_history' id='date_modification_shown_in_history' value='1' checked=getChecked('date_modification_shown_in_history',list_directory_param_default_values) />
						</@formGroup>
						<@formGroup rows=2>
							<@checkBox labelFor='date_modification_shown_in_export' labelKey='#i18n{directory.create_entry.label_shown_in_export}' name='date_modification_shown_in_export' id='date_modification_shown_in_export' value='1' checked=getChecked('date_modification_shown_in_export',list_directory_param_default_values) /> 
						</@formGroup>
						<@formGroup rows=2>
							<@checkBox labelFor='date_modification_indexed' labelKey='#i18n{directory.create_entry.label_indexed}' name='date_modification_indexed' id='date_modification_indexed' value='1' checked=getChecked('date_modification_shown_in_search',list_directory_param_default_values) /> 
						</@formGroup>
						
						<@callOut color='success' id='date_modification_show_multiple_searchs'>
							<@checkBox labelFor='date_modification_shown_in_multi_search' labelKey='#i18n{directory.create_entry.label_multiple_search_fields}' name='date_modification_shown_in_multi_search' id='date_modification_shown_in_multi_search' value='1' checked=getChecked('date_modification_shown_in_multi_search',list_directory_param_default_values) />
							<@checkBox labelFor='date_modification_shown_in_advanced_search' labelKey='#i18n{directory.create_entry.label_shown_in_advanced_search}' name='date_modification_shown_in_advanced_search' id='date_modification_shown_in_advanced_search' value='1' checked=getChecked('date_modification_shown_in_advanced_search',list_directory_param_default_values) />
						</@callOut>
					</@columns>
					
					<@columns sm=6 md=3 lg=3 xl=3>
						<h4>#i18n{directory.manage_advanced_parameters.pageTitle}</h4>
						<@formGroup labelFor='number_record_per_page' labelKey='#i18n{directory.create_directory.label_number_record_per_page}' helpKey='#i18n{directory.create_directory.label_number_record_per_page_comment}' rows=2>
							<@input type='text' name='number_record_per_page' id='number_record_per_page' inputSize=5 value=getName('number_record_per_page',list_directory_param_default_values) />
						</@formGroup>
						<@formGroup helpKey='#i18n{directory.create_directory_record.activate_directory_record_comment}' rows=2>
							<@checkBox labelFor='activate_directory_record' labelKey='#i18n{directory.create_directory_record.activate_directory_record}' name='activate_directory_record' id='activate_directory_record' value='1' checked=getChecked('activate_directory_record',list_directory_param_default_values) /> 
						</@formGroup>
						<@formGroup rows=2 helpKey='#i18n{directory.create_directory.label.is_indexed_comment}'>
							<@checkBox labelFor='is_indexed' labelKey='#i18n{directory.create_directory.label.is_indexed}' name='is_indexed' id='is_indexed' value='1' checked=getChecked('is_indexed',list_directory_param_default_values) /> 
						</@formGroup>
					</@columns>
					<@columns sm=12 md=6 lg=6 xl=6>
						<h4>#i18n{directory.create_directory.label_unavailability_message}</h4>
						<@formGroup labelFor='unavailability_message' labelKey='#i18n{directory.create_directory.label_unavailability_message}' helpKey='#i18n{directory.create_directory.label_unavailability_message_comment}' rows=2>
							<@input type='textarea' name='unavailability_message' id='unavailability_message' rows=6 richtext=true>${getName('unavailability_message',list_directory_param_default_values)}</@input>
						</@formGroup>
					</@columns>
				</@row>
			</@tform>
		</@accordionBody>
	</@accordionPanel>
	
	<@accordionPanel color='default' collapsed=true childId='default_values'>
		<@accordionHeader title='#i18n{directory.manage_advanced_parameters.label_create_entry_default_values}' boxTools=true>
			<@button type='submit' buttonIcon='save' title='#i18n{directory.create_directory.button_save}' showTitleXs=false />
		</@accordionHeader>
		<@accordionBody>
			<@tform action='jsp/admin/plugins/directory/DoModifyEntryParameterDefaultValues.jsp'>
				<@row>
					<@columns sm=6 md=3 lg=3 xl=3>
						<@formGroup rows=2>
							<@checkBox labelFor='mandatory' labelKey='#i18n{directory.create_entry.label_mandatory}' name='mandatory' id='mandatory' value='1' checked=getChecked('mandatory',list_entry_param_default_values) />
						</@formGroup>
						<@formGroup rows=2>
							<@checkBox labelFor='indexed' labelKey='#i18n{directory.create_entry.label_indexed}' name='indexed' id='indexed' value='1' checked=getChecked('indexed',list_entry_param_default_values) /> 
						</@formGroup>
						
						<@callOut color='success' id='show_multiple_searchs'>
							<@checkBox labelFor='multiple_search_fields' labelKey='#i18n{directory.create_entry.label_multiple_search_fields}' name='multiple_search_fields' id='multiple_search_fields' value='1' checked=getChecked('multiple_search_fields',list_entry_param_default_values) />
							<@checkBox labelFor='shown_in_advanced_search' labelKey='#i18n{directory.create_entry.label_shown_in_advanced_search}' name='shown_in_advanced_search' id='shown_in_advanced_search' value='1' checked=getChecked('shown_in_advanced_search',list_entry_param_default_values) />
						</@callOut>
						
						<@formGroup rows=2>
							<@checkBox labelFor='indexed_as_title' labelKey='#i18n{directory.create_entry.label_indexed_as_title}' name='indexed_as_title' id='indexed_as_title' value='1' checked=getChecked( 'indexed_as_title',list_entry_param_default_values) /> 
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='indexed_as_summary' labelKey='#i18n{directory.create_entry.label_indexed_as_summary}' name='indexed_as_summary' id='indexed_as_summary' value='1' checked=getChecked('indexed_as_summary',list_entry_param_default_values) /> 
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='role_associated' labelKey='#i18n{directory.create_entry.label_role_associated}' name='role_associated' id='role_associated' value='1' checked=getChecked('role_associated',list_entry_param_default_values) /> 
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='workgroup_associated' labelKey='#i18n{directory.create_entry.label_workgroup_associated}' name='workgroup_associated' id='workgroup_associated' value='1' checked=getChecked('workgroup_associated',list_entry_param_default_values) />
						</@formGroup>
					</@columns>
							
					<@columns sm=6 md=3 lg=3 xl=3>
						<@formGroup rows=2>
							<@checkBox labelFor='shown_in_result_list' labelKey='#i18n{directory.create_entry.label_shown_in_result_list}' name='shown_in_result_list' id='shown_in_result_list' value='1' checked=getChecked('shown_in_result_list',list_entry_param_default_values) /> 
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='shown_in_result_record' labelKey='#i18n{directory.create_entry.label_shown_in_result_record}' name='shown_in_result_record' id='shown_in_result_record' value='1' checked=getChecked('shown_in_result_record',list_entry_param_default_values) /> 
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='shown_in_history' labelKey='#i18n{directory.create_entry.label_shown_in_history}' name='shown_in_history' id='shown_in_history' value='1' checked=getChecked('shown_in_history',list_entry_param_default_values) /> 
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='autocomplete_entry' labelKey='#i18n{directory.create_entry.label_autocomplete_entry}' name='autocomplete_entry' id='autocomplete_entry' value='1' checked=getChecked('autocomplete_entry',list_entry_param_default_values) /> 
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='shown_in_export' labelKey='#i18n{directory.create_entry.label_shown_in_export}' name='shown_in_export' id='shown_in_export' value='1' checked=getChecked('shown_in_export',list_entry_param_default_values) /> 
						</@formGroup>
						
						<@formGroup rows=2>
							<@checkBox labelFor='shown_in_completeness' labelKey='#i18n{directory.create_entry.label_shown_in_completeness}' name='shown_in_completeness' id='shown_in_completeness' value='1' checked=getChecked('shown_in_completeness',list_entry_param_default_values) />
						</@formGroup>
					</@columns>
					
					<@columns sm=6 md=3 lg=3 xl=3>
						<@formGroup labelFor='width' labelKey='#i18n{directory.create_entry.label_presentation}' rows=2>
							<@select id='field_in_line' name='field_in_line'>
									<option value=1 <#if getName( 'field_in_line',list_entry_param_default_values)="1">selected="selected"</#if>>#i18n{directory.create_entry.select_presentation_in_line}</option>
									<option value=0 <#if getName( 'field_in_line',list_entry_param_default_values)="0">selected="selected"</#if>>#i18n{directory.create_entry.select_presentation_not_in_line}</option>
							</@select>
						</@formGroup>
						<@formGroup labelFor='width' labelKey='#i18n{directory.create_entry.label_width}/#i18n{directory.create_entry.label_width_display}' rows=2>
							<@input type='text' name='width' id='width' maxlength=100 value=getName('width',list_entry_param_default_values) />
						</@formGroup>
						<@formGroup labelFor='height' labelKey='#i18n{directory.create_entry.label_height}/#i18n{directory.create_entry.label_height_display}' rows=2>
							<@input type='text' name='height' id='height' maxlength=100 value=getName('height',list_entry_param_default_values) />
						</@formGroup>
					</@columns>
					<@columns sm=6 md=3 lg=3 xl=3>
						<@formGroup labelFor='max_size_enter' labelKey='#i18n{directory.create_entry.label_max_size_enter}' rows=2>
							<@input type='text' name='max_size_enter' id='max_size_enter' maxlength=100 value=getName('max_size_enter',list_entry_param_default_values) />
						</@formGroup>
						<@formGroup labelFor='file_max_size' labelKey='#i18n{directory.create_entry.label_file_max_size}' rows=2>
							<@input type='text' name='file_max_size' maxlength=255 value=getName('file_max_size',list_entry_param_default_values) />
						</@formGroup>
						<@formGroup labelFor='max_files' labelKey='#i18n{directory.create_entry.label_max_files}' rows=2>
							<@input type='text' name='max_files' maxlength=255 value=getName('max_files',list_entry_param_default_values) />
						</@formGroup>
					</@columns>
				</@row>
			</@tform>
		</@accordionBody>
	</@accordionPanel>
	
<#if list_export_encoding_param?? && list_export_encoding_param?has_content>
	<@accordionPanel color='default' collapsed=true childId='exports_encoding'>
		<@accordionHeader title='#i18n{directory.manage_advanced_parameters.label_export_encoding_parameters}' boxTools=true>
			<@button type='submit' buttonIcon='save' title='#i18n{directory.create_directory.button_save}' showTitleXs=false />
		</@accordionHeader>
		<@accordionBody>
			<@tform action='jsp/admin/plugins/directory/DoModifyExportEncodingParameters.jsp'>
				<@row>
					<@columns sm=6 md=6 lg=6 xl=6>
						<@formGroup labelFor='export_csv_encoding' labelKey='#i18n{directory.manage_advanced_parameters.label_export_csv_encoding}' mandatory=true rows=2>
							<@input type='text' name='export_csv_encoding' id='export_csv_encoding' maxlength=100 value=getName('export_csv_encoding',list_export_encoding_param) />
						</@formGroup>
					</@columns>
					<@columns sm=6 md=6 lg=6 xl=6>
						<@formGroup labelFor='export_xml_encoding' labelKey='#i18n{directory.manage_advanced_parameters.label_export_xml_encoding}' mandatory=true rows=2>
							<@input type='text' name='export_xml_encoding' id='export_xml_encoding' maxlength=100 value=getName('export_xml_encoding',list_export_encoding_param) />
						</@formGroup>
					</@columns>
				</@row>
			</@tform>
		</@accordionBody>
	</@accordionPanel>
</#if>
</@accordionContainer>
<@initEditor />

<script>
	<#if getName("date_modification_shown_in_search", list_directory_param_default_values) = "0" > $("#show_multiple_search_fields").hide(); </#if>
	<#if getName("date_shown_in_search", list_directory_param_default_values) = "0" > $("#show_multiple_searchs").hide(); </#if>
	<#if getName('date_modification_shown_in_search', list_directory_param_default_values) = "0" > $("#date_modification_show_multiple_searchs").hide(); </#if>

	$(document).ready(function() {
		$("#date_shown_in_search").click(function() {
			$("#show_multiple_search_fields").toggle();
		});

		$("#indexed").click(function() {
			$("#show_multiple_searchs").toggle();
		});

		$("#date_modification_indexed").click(function() {
			$("#date_modification_show_multiple_searchs").toggle();
		});
	});
</script>
